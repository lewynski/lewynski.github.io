<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MLBB Quiz: Road to Mythic</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #0b1120; }
    
    /* MLBB Gold & Blue Gradient */
    .mythic-bg {
        background: radial-gradient(circle at top, #1e3a8a, #0b1120 60%);
        min-height: 100vh;
    }
    
    h1, h2, .rank-title { font-family: 'Cinzel', serif; }

    .card { 
        background: rgba(15, 23, 42, 0.9); 
        border: 1px solid #fbbf24; /* Gold Border */
        box-shadow: 0 0 20px rgba(251, 191, 36, 0.15);
    }

    .btn-answer {
        transition: all 0.2s;
        border: 1px solid #334155;
        background: linear-gradient(to right, #1e293b, #0f172a);
    }
    .btn-answer:hover:not(:disabled) {
        border-color: #fbbf24;
        background: linear-gradient(to right, #334155, #1e293b);
        transform: translateX(5px);
    }

    .correct-answer { background: #15803d !important; border-color: #4ade80 !important; }
    .wrong-answer { background: #991b1b !important; border-color: #f87171 !important; }

    /* Custom Loader (Crystal) */
    .crystal-loader {
        width: 40px; height: 40px;
        background: #fbbf24;
        clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        animation: spin 2s infinite linear;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>
<body class="mythic-bg flex items-center justify-center p-4 text-white">

  <div class="card w-full max-w-lg mx-auto rounded-xl p-6 relative overflow-hidden">
    
    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-500 to-transparent"></div>

    <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-yellow-400 tracking-wider">LEGENDS QUIZ</h1>
        <p class="text-xs text-blue-300 uppercase tracking-widest mt-1">Road to Mythic</p>
    </div>

    <div id="loading-screen" class="flex flex-col items-center justify-center py-12">
        <div class="crystal-loader mb-6"></div>
        <p class="text-yellow-200/80 animate-pulse">Matching Game...</p>
    </div>

    <div id="quiz-area" class="hidden">
        <div class="flex justify-between items-end mb-6 border-b border-gray-700 pb-2">
            <div>
                <span class="text-xs text-gray-400 block">Question</span>
                <span class="text-xl font-bold text-white"><span id="curr-q">1</span><span class="text-sm text-gray-500">/10</span></span>
            </div>
            <div>
                <span class="text-xs text-gray-400 block text-right">Score</span>
                <span class="text-xl font-bold text-yellow-400" id="score">0</span>
            </div>
        </div>

        <h2 id="question-text" class="text-lg font-semibold mb-6 min-h-[50px] leading-relaxed text-blue-50">
            Who is the brother of Silvanna?
        </h2>

        <div id="answers-grid" class="flex flex-col gap-3">
            </div>
    </div>

    <div id="results-screen" class="hidden text-center py-6">
        <div class="mb-6">
            <p class="text-gray-400 text-sm uppercase">Highest Rank Achieved</p>
            <h2 id="final-rank" class="text-4xl font-bold text-yellow-400 mt-2 drop-shadow-md">MYTHIC GLORY</h2>
        </div>
        
        <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 mb-6">
            <p class="text-gray-300">Score: <span id="final-score" class="text-white font-bold">8/10</span></p>
        </div>

        <button onclick="initGame()" class="w-full py-3 bg-yellow-600 hover:bg-yellow-500 text-black font-bold rounded transition-colors">
            Find New Match
        </button>
    </div>

  </div>

  <script>
    // --- MOCK DATABASE (Since no public API exists) ---
    const MLBB_DATA = [
        { q: "Who is the brother of Silvanna?", a: "Dyrroth", wrong: ["Alucard", "Gusion", "Thamuz"] },
        { q: "Which hero says: 'Immortality or Death'?", a: "Argus", wrong: ["Martis", "Yu Zhong", "Zhask"] },
        { q: "What implies the maximum Cooldown Reduction?", a: "40%", wrong: ["30%", "45%", "50%"] },
        { q: "Which item reduces enemy HP regen?", a: "Dominance Ice", wrong: ["Immortality", "Bloodlust Axe", "War Axe"] },
        { q: "Who is the 'Son of the Dragon'?", a: "Zilong", wrong: ["Chou", "Ling", "Baxia"] },
        { q: "What is the true damage item for Marksmen?", a: "Wind of Nature", wrong: ["Demon Hunter Sword", "Scarlet Phantom", "Berserker's Fury"] }, // Trick question fix: DHS is HP based, WoN is immunity. Wait, True Damage is EB or TB. Let's fix this question in logic.
        // Replacing with better Q:
        { q: "Which item grants physical immunity?", a: "Wind of Nature", wrong: ["Winter Truncheon", "Rose Gold Meteor", "Immortality"] },
        { q: "Which hero can copy other heroes' Ultimates?", a: "Valentina", wrong: ["Vexana", "Aurora", "Eudora"] },
        { q: "Aldous gets stronger by collecting what?", a: "Stacks", wrong: ["Gold", "Exp", "Mana"] },
        { q: "Who is the sister of Harley?", a: "Lesley", wrong: ["Layla", "Miya", "Lolita"] },
        { q: "Which Role primarily takes the Purple Buff?", a: "Jungler", wrong: ["Roamer", "Mid Laner", "Gold Laner"] },
        { q: "What is the name of Gusion's brother?", a: "Aamon", wrong: ["Lancelot", "Alucard", "Claude"] },
        { q: "Which hero rides a dinosaur called Detona?", a: "Barats", wrong: ["Irithel", "Leomord", "Bane"] }
    ];

    // --- STATE ---
    let currentPool = [];
    let qIndex = 0;
    let score = 0;
    let isLocked = false;

    // --- MOCK API CALL ---
    // Simulates fetching data from a server
    function fetchQuestionsMock() {
        return new Promise((resolve) => {
            setTimeout(() => {
                // Shuffle and pick 10 random questions
                const shuffled = [...MLBB_DATA].sort(() => 0.5 - Math.random());
                resolve(shuffled.slice(0, 10));
            }, 1500); // 1.5s simulated network delay
        });
    }

    async function initGame() {
        // UI Reset
        document.getElementById('loading-screen').classList.remove('hidden');
        document.getElementById('quiz-area').classList.add('hidden');
        document.getElementById('results-screen').classList.add('hidden');
        
        score = 0;
        qIndex = 0;
        updateScoreboard();

        // "Fetch" Data
        currentPool = await fetchQuestionsMock();
        
        // Start
        document.getElementById('loading-screen').classList.add('hidden');
        document.getElementById('quiz-area').classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        if (qIndex >= currentPool.length) {
            endGame();
            return;
        }

        const data = currentPool[qIndex];
        isLocked = false;
        
        document.getElementById('question-text').textContent = data.q;
        document.getElementById('curr-q').textContent = qIndex + 1;

        // Mix answers
        let answers = [...data.wrong, data.a];
        answers.sort(() => 0.5 - Math.random());

        const grid = document.getElementById('answers-grid');
        grid.innerHTML = '';

        answers.forEach(ans => {
            const btn = document.createElement('button');
            btn.textContent = ans;
            btn.className = "btn-answer w-full py-4 px-6 rounded text-left font-medium text-gray-300";
            btn.onclick = () => checkAnswer(btn, ans === data.a, data.a);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(btn, isCorrect, correctTxt) {
        if (isLocked) return;
        isLocked = true;

        if (isCorrect) {
            btn.classList.add('correct-answer');
            score++;
        } else {
            btn.classList.add('wrong-answer');
            // Auto highlight correct
            const allBtns = document.querySelectorAll('.btn-answer');
            allBtns.forEach(b => {
                if(b.textContent === correctTxt) b.classList.add('correct-answer');
            });
        }

        updateScoreboard();
        setTimeout(() => {
            qIndex++;
            loadQuestion();
        }, 1200);
    }

    function endGame() {
        document.getElementById('quiz-area').classList.add('hidden');
        document.getElementById('results-screen').classList.remove('hidden');
        
        document.getElementById('final-score').textContent = `${score} / ${currentPool.length}`;
        
        // Rank Logic
        const rankEl = document.getElementById('final-rank');
        const percentage = score / currentPool.length;
        
        if (percentage === 1) { rankEl.textContent = "MYTHICAL GLORY"; rankEl.className = "text-4xl font-bold text-purple-400 mt-2"; }
        else if (percentage >= 0.8) { rankEl.textContent = "MYTHIC"; rankEl.className = "text-4xl font-bold text-yellow-400 mt-2"; }
        else if (percentage >= 0.6) { rankEl.textContent = "LEGEND"; rankEl.className = "text-4xl font-bold text-red-400 mt-2"; }
        else if (percentage >= 0.4) { rankEl.textContent = "EPIC"; rankEl.className = "text-4xl font-bold text-green-400 mt-2"; }
        else { rankEl.textContent = "GRANDMASTER"; rankEl.className = "text-4xl font-bold text-gray-400 mt-2"; }
    }

    function updateScoreboard() {
        document.getElementById('score').textContent = score;
    }

    // Run on load
    initGame();
  </script>
</body>
</html>
