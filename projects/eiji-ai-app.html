<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eiji - Real AI</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
body { background:#0f172a; font-family:monospace; }
#chat-box { height:400px; overflow-y:auto; }
.msg-user { background:#1e293b; color:#e2e8f0; align-self:flex-end; }
.msg-ai { background:#2563eb; color:white; align-self:flex-start; }
</style>
</head>

<body class="flex items-center justify-center h-screen p-4 text-white">

<div class="w-full max-w-md bg-slate-900 rounded-xl flex flex-col h-[650px]">

<div class="p-4 bg-slate-800">
<h1 class="text-blue-400 font-bold">Eiji (Gemini Powered)</h1>
<p id="status" class="text-xs text-gray-400">Online & Ready</p>
</div>

<div id="chat-box" class="flex-1 p-4 flex flex-col gap-3">
<div class="p-3 rounded-xl max-w-[85%] msg-ai text-sm">
Systems online. I am Eiji.
</div>
</div>

<div class="p-4 bg-slate-800">
<form onsubmit="sendMessage(event)" class="flex gap-2">
<input id="input" type="text"
class="flex-1 bg-slate-900 border border-slate-600 rounded px-3 py-2 text-sm">
<button class="bg-blue-600 px-4 rounded">âž¤</button>
</form>
</div>

</div>

<script>

const API_KEY = "AIzaSyDe9s0_R4BVOaIOEddkbACh_MRE01OO5Tg";

const chatBox = document.getElementById("chat-box");
const input = document.getElementById("input");
const statusText = document.getElementById("status");

const SYSTEM_PROMPT = `
You are Eiji, a cyberpunk AI assistant.
Keep replies short unless asked.
`;

async function sendMessage(e){
e.preventDefault();
const text = input.value.trim();
if(!text) return;

addMessage(text,"user");
input.value="";
statusText.innerText="Thinking...";

try{

const response = await fetch(
`https://generativelanguage.googleapis.com/v1/models/gemini-1.0-pro:generateContent?key=${API_KEY}`,
{
method:"POST",
headers:{ "Content-Type":"application/json" },
body: JSON.stringify({
contents:[
{
parts:[
{ text: SYSTEM_PROMPT + "\nUser: " + text }
]
}
]
})
}
);

const data = await response.json();

if(!response.ok){
throw new Error(data.error?.message || "Request failed");
}

const reply = data.candidates[0].content.parts[0].text;

addMessage(reply,"ai");

}catch(err){
addMessage("Error: "+err.message,"ai");
}

statusText.innerText="Online & Ready";
}

function addMessage(text,type){
const div=document.createElement("div");
div.className=`p-3 rounded-xl max-w-[85%] text-sm ${
type==="user"?"msg-user":"msg-ai"
}`;
div.innerHTML = marked.parse(text);
chatBox.appendChild(div);
chatBox.scrollTop=chatBox.scrollHeight;
}

</script>

</body>
</html>
