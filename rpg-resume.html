<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jon's Interactive House Resume</title>

<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    overflow:hidden;
    font-family:'Inter',sans-serif;
    background:linear-gradient(to top,#dbeafe,#f0f9ff);
}

/* Aesthetic info card */
#infoCard{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:400px;
    background:rgba(255,255,255,.8);
    backdrop-filter:blur(20px);
    border-radius:20px;
    padding:30px;
    box-shadow:0 30px 60px rgba(0,0,0,.2);
    display:none;
    text-align:center;
}

#infoCard h2{
    margin:0 0 10px 0;
    font-weight:700;
    color:#1e293b;
}

#infoCard p{
    font-size:14px;
    color:#475569;
    line-height:1.6;
}

#infoCard button{
    margin-top:15px;
    padding:8px 15px;
    border:none;
    background:#3b82f6;
    color:white;
    border-radius:10px;
    cursor:pointer;
}
</style>
</head>
<body>

<div id="infoCard">
    <h2>About Me</h2>
    <p>
    B.S. Electronics Engineering Student<br>
    Passionate about automation systems, embedded systems, and creative tech projects.<br><br>
    Polytechnic University of the Philippines
    </p>
    <button onclick="closeCard()">Close</button>
</div>

<script>

const config={
    type:Phaser.AUTO,
    width:1000,
    height:600,
    physics:{default:'arcade',arcade:{gravity:{y:0},debug:false}},
    scene:[OutsideScene,InsideScene]
};

const game=new Phaser.Game(config);

let player;
let cursors,keyW,keyA,keyS,keyD,keyE,keyESC;
let nearDoor=false;

/* ================= OUTSIDE SCENE ================= */

function OutsideScene(){
    Phaser.Scene.call(this,{key:'Outside'});
}
OutsideScene.prototype=Object.create(Phaser.Scene.prototype);

OutsideScene.prototype.create=function(){

    this.add.rectangle(500,300,1000,600,0xbfdbfe); // sky
    this.add.rectangle(500,500,1000,200,0x86efac); // grass

    // House body
    this.add.rectangle(500,350,300,200,0xfef3c7)
        .setStrokeStyle(4,0xf59e0b);

    // Roof
    this.add.triangle(500,220,350,300,650,300,500,150,0xf87171);

    // Door
    this.door=this.add.rectangle(500,400,70,120,0x92400e);
    this.physics.add.existing(this.door,true);

    // Player
    player=this.add.circle(500,500,15,0x2563eb);
    this.physics.add.existing(player);
    player.body.setCollideWorldBounds(true);

    cursors=this.input.keyboard.createCursorKeys();
    keyW=this.input.keyboard.addKey('W');
    keyA=this.input.keyboard.addKey('A');
    keyS=this.input.keyboard.addKey('S');
    keyD=this.input.keyboard.addKey('D');
    keyE=this.input.keyboard.addKey('E');

    this.physics.add.overlap(player,this.door,()=>{
        nearDoor=true;
        this.door.setFillStyle(0xb45309);
    });

};

OutsideScene.prototype.update=function(){

    let vx=0,vy=0;

    if(cursors.left.isDown||keyA.isDown)vx=-1;
    if(cursors.right.isDown||keyD.isDown)vx=1;
    if(cursors.up.isDown||keyW.isDown)vy=-1;
    if(cursors.down.isDown||keyS.isDown)vy=1;

    const vec=new Phaser.Math.Vector2(vx,vy);
    if(vec.length()>0)vec.normalize().scale(220);

    player.body.setVelocity(vec.x,vec.y);

    if(!Phaser.Geom.Intersects.RectangleToRectangle(player.getBounds(),this.door.getBounds())){
        nearDoor=false;
        this.door.setFillStyle(0x92400e);
    }

    if(nearDoor && Phaser.Input.Keyboard.JustDown(keyE)){
        this.cameras.main.fadeOut(500);
        this.time.delayedCall(500,()=>{
            this.scene.start('Inside');
        });
    }
};

/* ================= INSIDE SCENE ================= */

function InsideScene(){
    Phaser.Scene.call(this,{key:'Inside'});
}
InsideScene.prototype=Object.create(Phaser.Scene.prototype);

InsideScene.prototype.create=function(){

    this.add.rectangle(500,300,1000,600,0xf1f5f9); // interior wall
    this.add.rectangle(500,550,1000,100,0xe2e8f0); // floor

    this.add.text(500,150,"Welcome Inside üè°",
        {font:'28px Inter',fill:'#1e293b'}).setOrigin(0.5);

    this.add.text(500,200,"Press ESC to exit",
        {font:'14px Inter',fill:'#64748b'}).setOrigin(0.5);

    keyESC=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ESC);

    document.getElementById("infoCard").style.display="block";

};

InsideScene.prototype.update=function(){
    if(Phaser.Input.Keyboard.JustDown(keyESC)){
        document.getElementById("infoCard").style.display="none";
        this.scene.start('Outside');
    }
};

function closeCard(){
    document.getElementById("infoCard").style.display="none";
}

</script>
</body>
</html>
