<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jon's Resume Village</title>

<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    overflow:hidden;
    font-family:'Inter',sans-serif;
    background:linear-gradient(to top,#dbeafe,#f0f9ff);
}

/* Floating aesthetic info card */
#infoCard{
    position:absolute;
    bottom:30px;
    left:50%;
    transform:translateX(-50%);
    width:420px;
    background:rgba(255,255,255,.85);
    backdrop-filter:blur(20px);
    border-radius:20px;
    padding:25px;
    box-shadow:0 20px 60px rgba(0,0,0,.15);
    display:none;
    text-align:center;
    transition:.3s;
}

#infoCard h2{
    margin:0 0 8px 0;
    font-weight:700;
    color:#1e293b;
}

#infoCard p{
    font-size:14px;
    color:#475569;
    line-height:1.6;
}
</style>
</head>
<body>

<div id="infoCard">
    <h2 id="infoTitle"></h2>
    <p id="infoText"></p>
</div>

<script>

const resumeData = [
    {x:200,y:400,title:"Primary Education",text:"Jose G. Peralta Memorial School<br>Valedictorian (2011-2017)"},
    {x:400,y:250,title:"Junior High",text:"Fellowship Baptist College<br>With Honor (2017-2021)"},
    {x:650,y:350,title:"Senior High",text:"STEM Strand<br>With High Honor (2021-2023)"},
    {x:850,y:450,title:"College",text:"B.S. Electronics Engineering<br>PUP - Present"},
    {x:600,y:150,title:"Work Experience",text:"Bandai Wireharness (2025)<br>NOCECO (2023)"}
];

const config={
    type:Phaser.AUTO,
    width:1100,
    height:600,
    physics:{default:'arcade',arcade:{gravity:{y:0},debug:false}},
    scene:{create,update}
};

const game=new Phaser.Game(config);

let player;
let cursors,keyW,keyA,keyS,keyD;
let houses=[];
let currentHouse=null;

function create(){

    // Sky
    this.add.rectangle(550,300,1100,600,0xbfdbfe);

    // Grass
    this.add.rectangle(550,520,1100,200,0x86efac);

    // Create trees
    for(let i=0;i<8;i++){
        createTree(this,Phaser.Math.Between(100,1000),Phaser.Math.Between(350,500));
    }

    // Create houses
    resumeData.forEach(data=>{
        createHouse(this,data);
    });

    // Player
    player=this.add.circle(550,500,14,0x2563eb);
    this.physics.add.existing(player);
    player.body.setCollideWorldBounds(true);

    cursors=this.input.keyboard.createCursorKeys();
    keyW=this.input.keyboard.addKey('W');
    keyA=this.input.keyboard.addKey('A');
    keyS=this.input.keyboard.addKey('S');
    keyD=this.input.keyboard.addKey('D');
}

function update(){

    let vx=0,vy=0;

    if(cursors.left.isDown||keyA.isDown)vx=-1;
    if(cursors.right.isDown||keyD.isDown)vx=1;
    if(cursors.up.isDown||keyW.isDown)vy=-1;
    if(cursors.down.isDown||keyS.isDown)vy=1;

    const vec=new Phaser.Math.Vector2(vx,vy);
    if(vec.length()>0)vec.normalize().scale(230);

    player.body.setVelocity(vec.x,vec.y);

    checkHouseProximity();
}

function createHouse(scene,data){

    // Shadow
    scene.add.ellipse(data.x,data.y+40,100,30,0x000000,0.2);

    // Body
    const body=scene.add.rectangle(data.x,data.y,100,70,0xfef3c7)
        .setStrokeStyle(3,0xf59e0b);

    // Roof
    scene.add.triangle(data.x,data.y-45,
        data.x-60,data.y-10,
        data.x+60,data.y-10,
        data.x,data.y-90,
        0xf87171);

    body.info=data;
    houses.push(body);
}

function createTree(scene,x,y){

    scene.add.ellipse(x,y+20,40,20,0x000000,0.2);
    scene.add.rectangle(x,y,15,40,0x92400e);
    scene.add.circle(x,y-30,35,0x16a34a);
}

function checkHouseProximity(){

    let found=false;

    houses.forEach(house=>{
        const dist=Phaser.Math.Distance.Between(player.x,player.y,house.x,house.y);

        if(dist<90){
            showInfo(house.info.title,house.info.text);
            found=true;
        }
    });

    if(!found){
        hideInfo();
    }
}

function showInfo(title,text){
    document.getElementById("infoTitle").innerHTML=title;
    document.getElementById("infoText").innerHTML=text;
    document.getElementById("infoCard").style.display="block";
}

function hideInfo(){
    document.getElementById("infoCard").style.display="none";
}

</script>
</body>
</html>
