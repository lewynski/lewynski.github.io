<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jon's 3D Resume World</title>

<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    background: radial-gradient(circle at top,#0f172a,#020617);
    font-family:'Inter',sans-serif;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}

#game-wrapper{
    width:1100px;
    height:650px;
    border-radius:20px;
    overflow:hidden;
    box-shadow:0 40px 80px rgba(0,0,0,.6);
    position:relative;
}

#dialogue{
    position:absolute;
    bottom:30px;
    left:50%;
    transform:translateX(-50%);
    width:500px;
    background:rgba(15,23,42,.85);
    backdrop-filter:blur(15px);
    border:1px solid rgba(255,255,255,.1);
    padding:25px;
    border-radius:20px;
    display:none;
    box-shadow:0 20px 50px rgba(0,0,0,.6);
}

#dialogue h2{
    margin:0 0 10px 0;
    font-weight:700;
}

#dialogue p{
    font-size:14px;
    line-height:1.6;
    color:#cbd5e1;
}

#dialogue button{
    margin-top:15px;
    padding:8px 15px;
    background:#3b82f6;
    border:none;
    border-radius:8px;
    color:white;
    cursor:pointer;
}
</style>
</head>
<body>

<div id="game-wrapper"></div>

<div id="dialogue">
    <h2 id="d-title"></h2>
    <p id="d-text"></p>
    <button onclick="closeDialogue()">Close</button>
</div>

<script>

const resumeData = {
    elem:{title:"Primary Education",text:"Jose G. Peralta Memorial School<br>Valedictorian (2011-2017)"},
    jhs:{title:"Junior High",text:"Fellowship Baptist College<br>With Honor (2017-2021)"},
    shs:{title:"Senior High - STEM",text:"Fellowship Baptist College<br>With High Honor (2021-2023)"},
    college:{title:"B.S. Electronics Engineering",text:"Polytechnic University of the Philippines<br>Present"},
    work:{title:"Work Experience",text:"Bandai Wireharness (2025)<br>NOCECO (2023)"}
};

const config={
    type:Phaser.AUTO,
    parent:"game-wrapper",
    width:1100,
    height:650,
    backgroundColor:"#0f172a",
    physics:{
        default:"arcade",
        arcade:{gravity:{y:0},debug:false}
    },
    scene:{create,update}
};

const game=new Phaser.Game(config);

let player;
let cursors,keyW,keyA,keyS,keyD,keyE;
let currentZone=null;
let speed=250;
let zones;

function create(){

    this.cameras.main.setBackgroundColor("#0f172a");

    // Floating ground illusion
    const ground=this.add.rectangle(550,330,900,450,0x1e293b)
        .setStrokeStyle(4,0x334155)
        .setDepth(0);

    ground.setAngle(5);

    zones=this.physics.add.staticGroup();

    createBuilding(this,250,500,"Primary",resumeData.elem);
    createBuilding(this,250,200,"Junior",resumeData.jhs);
    createBuilding(this,550,120,"Senior",resumeData.shs);
    createBuilding(this,850,250,"College",resumeData.college);
    createBuilding(this,550,520,"Work",resumeData.work);

    player=this.add.circle(550,330,15,0x3b82f6);
    this.physics.add.existing(player);
    player.body.setCollideWorldBounds(true);

    cursors=this.input.keyboard.createCursorKeys();
    keyW=this.input.keyboard.addKey("W");
    keyA=this.input.keyboard.addKey("A");
    keyS=this.input.keyboard.addKey("S");
    keyD=this.input.keyboard.addKey("D");
    keyE=this.input.keyboard.addKey("E");

    this.physics.add.overlap(player,zones,(p,z)=>{
        currentZone=z.data;
    });

}

function update(){

    let vx=0,vy=0;

    if(cursors.left.isDown||keyA.isDown)vx=-1;
    if(cursors.right.isDown||keyD.isDown)vx=1;
    if(cursors.up.isDown||keyW.isDown)vy=-1;
    if(cursors.down.isDown||keyS.isDown)vy=1;

    const vec=new Phaser.Math.Vector2(vx,vy);

    if(vec.length()>0){
        vec.normalize().scale(speed);
    }

    player.body.setVelocity(vec.x,vec.y);

    if(Phaser.Input.Keyboard.JustDown(keyE) && currentZone){
        showDialogue(currentZone.title,currentZone.text);
    }

    if(vec.length()==0){
        currentZone=null;
    }
}

function createBuilding(scene,x,y,label,data){

    const shadow=scene.add.rectangle(x,y+15,120,60,0x000000,0.4);
    const building=scene.add.rectangle(x,y,120,60,0x475569)
        .setStrokeStyle(3,0x94a3b8);

    const text=scene.add.text(x,y,label,{
        font:"14px Inter",
        fill:"#fff"
    }).setOrigin(0.5);

    scene.physics.add.existing(building,true);
    building.data=data;
    zones.add(building);
}

function showDialogue(title,text){
    document.getElementById("d-title").innerHTML=title;
    document.getElementById("d-text").innerHTML=text;
    document.getElementById("dialogue").style.display="block";
}

function closeDialogue(){
    document.getElementById("dialogue").style.display="none";
}

</script>
</body>
</html>
